---
import AboutLinks from "../components/AboutLinks.astro";
import ContractsLinks from "../components/ContractsLinks.astro";
import EventsLinks from "../components/EventsLinks.astro";
import ResourcesLinks from "../components/ResourcesLinks.astro";
import SocialLinks from "../components/SocialLinks.astro";
import "../styles/global.css";
---

<html
  lang="en"
  data-wf-page="5ce75a59757fff6268d29f8b"
  data-wf-site="5ce75a58757fffbe19d29f88"
>
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content={Astro.generator} />
    <title>Kickstarter United</title>
    <meta content="Kickstarter United" property="og:title" />
    <meta content="/images/logo.svg" property="og:image" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin="true"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100..900;1,100..900&family=Libre+Franklin:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />

    <link rel="shortcut icon" type="image/svg+xml" href="/images/logo.svg" />

    <script
      is:inline
      src="https://cdn.jsdelivr.net/npm/@oddbird/popover-polyfill@latest"
      crossorigin="anonymous"
      nomodule="true"
      async></script>
    <script is:inline type="module" async>
      import {
        isSupported,
        apply,
      } from "https://unpkg.com/invokers-polyfill@latest/invoker.js";
      if (!isSupported()) {
        apply();
      }
    </script>
    <script is:inline type="module">
      if (!("anchorName" in document.documentElement.style)) {
        import("https://unpkg.com/@oddbird/css-anchor-positioning");
      }
    </script>
  </head>
  <body class="leading-[1.6]">
    <div class="page">
      <header class="page__header">
        <p class="page__logo">
          <a class="link--standalone" href="/">Kickstarter United</a>
        </p>

        <nav class="page__nav">
          <a class="btn link sr-only" href="#content">Skip to main content</a>
          {/* See the dialog at the bottom of the file. */}
          <button
            id="menu-trigger"
            class="flex gap-1 items-center sm:hidden"
            command="show-modal"
            commandfor="mobile-nav"
          >
            <svg
              class="inline"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <line
                x1="3"
                y1="6"
                x2="21"
                y2="6"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"></line>
              <line
                x1="3"
                y1="12"
                x2="21"
                y2="12"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"></line>
              <line
                x1="3"
                y1="18"
                x2="21"
                y2="18"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"></line>
            </svg>
            Menu
          </button>

          <div class="hidden sm:flex sm:flex-wrap">
            <div class="popover">
              <button
                id="about-trigger"
                class="menu [anchor-name:--about-trigger]"
                popovertarget="about-links"
              >
                About
              </button>
              <menu
                id="about-links"
                class="menu [position-anchor:--about-trigger]"
                popover
                aria-labelledby="about-trigger"
              >
                <AboutLinks />
              </menu>
            </div>

            <div class="popover">
              <button
                id="events-trigger"
                class="[anchor-name:--events-trigger]"
                popovertarget="events-links"
              >
                Events
              </button>
              <menu
                id="events-links"
                class="menu [position-anchor:--events-trigger]"
                popover
                aria-labelledby="about-trigger"
              >
                <EventsLinks />
              </menu>
            </div>

            <div class="popover">
              <button
                id="contracts-trigger"
                class="[anchor-name:--contracts-trigger]"
                popovertarget="contracts-links"
              >
                Contracts
              </button>
              <menu
                id="contracts-links"
                class="menu"
                popover
                aria-labelledby="contracts-trigger"
              >
                <ContractsLinks />
              </menu>
            </div>

            <div class="popover">
              <button
                id="resources-trigger"
                class="[anchor-name:--resources-trigger]"
                popovertarget="resources-links"
              >
                Resources
              </button>
              <menu
                id="resources-links"
                class="menu [position-anchor:--resources-trigger] [position-area:end_span-start]"
                popover
                aria-labelledby="resources-trigger"
              >
                <ResourcesLinks />
              </menu>
            </div>
          </div>
        </nav>
      </header>

      <main class="page__content mx-0 my-8" id="content">
        <slot />
      </main>

      <footer class="page__footer">
        <div class="p-4 text-center">
          <SocialLinks />
          <br />
          Â© Copyright 2025 Kickstarter United
        </div>
      </footer>

      <script
        is:inline
        crossorigin="anonymous"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.4.1.min.220afd743d.js"
        type="text/javascript"></script>

      {
        /*
      These are outside the nav, because we need to duplicate the links for a
      mobile menu, and I didn't want to clutter the top of the file with dual
      menus. Don't worry: accessibility is preserved via the Dialog and
      Popover APIs.
        */
      }
      <dialog
        class="drawer menu"
        id="mobile-nav"
        aria-labelledby="menu-trigger"
        closedby="any"
      >
        <button command="close" commandfor="mobile-nav">Close</button>
        <a class="menu__item" href="/">Home</a>
        <div class="menu__title">About</div>
        <AboutLinks />
        <div class="menu__title">Events</div>
        <EventsLinks />
        <div class="menu__title">Contracts & Agreements</div>
        <ContractsLinks />
        <div class="menu__title">Resources</div>
        <ResourcesLinks />
      </dialog>
    </div>
  </body>
</html>
